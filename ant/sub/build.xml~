<!DOCTYPE project [
<!ENTITY extXML SYSTEM "../ext/ext.xml" >
]>

<project name="sub" default="all" basedir=".">
  
  &extXML;    

  <target name="all" depends="extTaskdef" >
      <echo message="entrancing sub all" />
      <antcall target="for" />
      <echo message="exiting sub all" />
  </target>

    <target name="for" depends="" >
        <echo message="entrancing sub for" />
        <echo message="${basedir},traveling" />
        <for param="file" >
          <path>
              <dirset dir="." includes="*" />
              <!-- include="*"  代表当前目录下的所有文件夹 -->
              <!-- include="**" 代表当前目录下包括递归的所有文件夹，包括自身 -->
          </path>
          <sequential>
            <echo message="@{file}" />
            <propertyregex property="filename" override="true" input="@{file}" regexp="[^\\/]+$" select="\0" />
            <propertyregex property="filetype" override="true" input="${filename}" regexp=".*(\..*)" select="\1" />
            <echo message="${filename}" />
            <echo message="${filetype}" />
          </sequential>
        </for>
        <echo message="exiting sub for" />
  </target>


  
  <target name="missDepend" depends="">
      <echo message="entrancing sub missDepend"/>
  </target>

</project>
